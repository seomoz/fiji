
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Setup</title>
    <meta name="description" content="Setup for FijiExpress Tutorial">
    <meta name="author" content="WibiData">
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/twitter/css/github.css" rel="stylesheet" type="text/css" media="all">
    <script src="http://code.jquery.com/jquery-latest.js" type="text/javascript"></script>
    <script src="/assets/themes/twitter/vallenato/vallenato.js" type="text/javascript"></script>
    <link rel="stylesheet" href="/assets/themes/twitter/css/vallenato.css" type="text/css" media="screen">
  </head>

  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="brand" href="http://www.fiji.org">Fiji Community</a>
          <ul class="nav">
            <li class="dropdown">
              <a href="http://www.fiji.org">The Fiji Project</a>
              <ul class="dropdown-menu">
                <li class="menu-item">
                  <a href="http://www.fiji.org/features">Features</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="http://www.fiji.org/architecture">Architecture</a>
            </li>
            <li class="dropdown">
              <a href="http://www.fiji.org/getstarted/">Get Started</a>
              <ul class="dropdown-menu">
                <li class="menu-item">
                  <a href="http://www.fiji.org/getstarted/#Downloads">Downloads</a>
                </li>
                <li class="menu-item">
                  <a href="http://www.fiji.org/getstarted/#Installation">Installation</a>
                </li>
                <li class="menu-item">
                  <a href="http://www.fiji.org/getstarted/#Quick_Start_Guide">Quick Start Guide</a>
                </li>
                <li class="menu-item">
                  <a href="http://www.fiji.org/get-started-with-maven">Getting Started with Maven</a>
                </li>
                <li class="menu-item">
                  <a href="http://www.fiji.org/getstarted/#Training_Services">
                    Training & Services
                  </a>
                </li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="http://www.fiji.org/getinvolved">Get Involved</a>
              <ul class="dropdown-menu">
                <li class="menu-item">
                  <a href="http://www.fiji.org/getinvolved/#Mailing_Lists">Mailing Lists</a>
                </li>
                <li class="menu-item">
                  <a href="http://www.fiji.org/getinvolved/#Source_Code">Source Code</a>
                </li>
                <li class="menu-item">
                  <a href="http://www.fiji.org/getinvolved/#Issue_Tracker">Issue Tracking</a>
                </li>
                <li class="menu-item">
                  <a href="http://www.fiji.org/getinvolved/#Contributing_to_Fiji">
                    Contributing to Fiji
                  </a>
                </li>
              </ul>
            </li>
            <li class="dropdown active">
              <a href="/">Documentation</a>
              <ul class="dropdown-menu">
                <li class="menu-item">
                  <a href="http://www.fiji.org/getstarted/#Quick_Start_Guide">Quick Start Guide</a>
                </li>
                <li class="menu-item">
                  <a href="/tutorials.html">Tutorials</a>
                </li>
                <li class="menu-item">
                  <a href="/userguides.html">
                    User Guides
                  </a>
                </li>
                <li class="menu-item">
                  <a href="/apidocs">API Reference</a>
                </li>
                <li class="menu-item">
                  <a href="https://github.com/fijiproject/wiki/wiki">Wiki</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="http://www.fiji.org/blog/">Blog</a>
            </li>
            <li>
              <a href="http://www.fiji.org/aboutfiji">About Fiji</a>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="content">
        
<div class="row-fluid">
  <div class="span9">
    <div class="page-header">
      <h1>Setup</h1>
    </div>

    <div class="pagination">
      <ul>
    
      
      
    
      

      
        
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
              <li class="prev">
                <a href="/tutorials/express-recommendation/0.3.0/express-overview" title="Overview">
                &larr; Previous
                </a>
              </li>
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
      

      
      
        
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
              <li class="next">
                <a href="/tutorials/express-recommendation/0.3.0/express-importing-data" title="Importing Data">
                Next &rarr;
                </a>
              </li>
            
          
        
          
        
      
      </ul>
    </div>

    <p>For this tutorial, we assume you are either using the standalone Fiji BentoBox or have installed the individual components described <a href='http://www.fiji.org/getstarted/'>here</a>. If you don&#39;t have a working environment yet, you can install the standalone Fiji BentoBox in <a href='http://www.fiji.org/#tryit'>three quick steps!</a></p>

<p>If you have downloaded the standalone Fiji BentoBox, the code for this tutorial is already compiled and located in the <code>${FIJI_HOME}/examples/express-music/</code> directory. Commands in this tutorial will depend on this location:</p>
<div class='userinput'>

<div class='highlight'><pre><code class='bash'><span class='nb'>export </span><span class='nv'>MUSIC_EXPRESS_HOME</span><span class='o'>=</span><span class='k'>${</span><span class='nv'>FIJI_HOME</span><span class='k'>}</span>/examples/express-music
</code></pre></div>

</div>
<p>If you are not using the Fiji BentoBox, set <code>MUSIC_EXPRESS_HOME</code> to the path of your local fiji-music repository.</p>

<p>Once you have done this, if you are using Fiji BentoBox you can skip to &#8220;Set your environment variables&#8221; if you want to get started playing with the example code. Otherwise, follow these steps to compile it from source.</p>

<h3 id='compiling_the_tutorial_optional'>Compiling the Tutorial (Optional)</h3>

<p>The source is included along with a Maven project. Starting a Maven project that uses Fiji? <a href='http://www.fiji.org/get-started-with-maven'>Read the Maven setup instructions.</a> or the <a href='http://maven.apache.org/'>Apache Maven Homepage</a>.</p>

<p>The following tools are required to compile this project:</p>

<ul>
<li>Maven 3.x</li>

<li>Java 6</li>
</ul>

<p>To compile the tutorial yourself:</p>
<div class='highlight'><pre><code class='bash'><span class='nb'>cd</span> <span class='k'>${</span><span class='nv'>MUSIC_EXPRESS_HOME</span><span class='k'>}</span>
mvn package
</code></pre></div>
<p>The build artifacts (.jar files) will be placed in the <code>$MUSIC_EXPRESS_HOME/target/</code> directory. This tutorial assumes you are using the pre-built jars included with the music recommendation example under <code>$MUSIC_EXPRESS_HOME/lib/</code>. If you wish to use jars of example code that you have built, you should adjust the command lines in this tutorial to use the jars in <code>$MUSIC_EXPRESS_HOME/target/</code>.</p>

<h3 id='start_a_bento_cluster'>Start a Bento cluster</h3>

<p>If you already installed BentoBox, make sure you have started it:</p>
<div class='userinput'>

<div class='highlight'><pre><code class='bash'><span class='nb'>cd</span> &lt;path/to/bento&gt;
<span class='nb'>source </span>bin/fiji-env.sh
bento start
</code></pre></div>

</div>
<h3 id='set_environment_variables'>Set Environment Variables</h3>

<p>After Bento starts, it will display ports you will need to complete this tutorial. It will be useful to know the address of the MapReduce JobTracker webapp (<a href='http://localhost:50030'>http://localhost:50030</a> by default) while working through this tutorial.</p>

<p>It will be useful to define an environment variable named <code>FIJI</code> that holds a Fiji URI to the Fiji instance we&#8217;ll use during this tutorial.</p>
<div class='userinput'>

<div class='highlight'><pre><code class='bash'><span class='nb'>export </span><span class='nv'>FIJI</span><span class='o'>=</span>fiji://.env/fiji_express_music
</code></pre></div>

</div>
<p>To work through this tutorial, various Fiji tools will require that Avro data type definitions particular to the working music recommendation example be on the classpath. You can add your artifacts to the Fiji classpath by running:</p>
<div class='userinput'>

<div class='highlight'><pre><code class='bash'><span class='nb'>export </span><span class='nv'>FIJI_CLASSPATH</span><span class='o'>=</span><span class='s2'>&quot;${MUSIC_EXPRESS_HOME}/lib/*&quot;</span>
</code></pre></div>

</div>
<h3 id='install_fiji_and_create_tables'>Install Fiji and Create Tables</h3>

<p>Install your Fiji instance:</p>
<div class='userinput'>

<div class='highlight'><pre><code class='bash'>fiji install --fiji<span class='o'>=</span><span class='k'>${</span><span class='nv'>FIJI</span><span class='k'>}</span>
</code></pre></div>

</div>
<p>Create the Fiji music tables that have layouts described in <code>music-schema.ddl</code>.</p>
<div class='userinput'>

<div class='highlight'><pre><code class='bash'>fiji-schema-shell --fiji<span class='o'>=</span><span class='k'>${</span><span class='nv'>FIJI</span><span class='k'>}</span> --file<span class='o'>=</span><span class='k'>${</span><span class='nv'>MUSIC_EXPRESS_HOME</span><span class='k'>}</span>/music-schema.ddl
</code></pre></div>

</div>
<p>This command uses <a href='https://github.com/fijiproject/fiji-schema-shell'>fiji-schema-shell</a> to create the tables using the FijiSchema DDL, which makes specifying table layouts easy. See <a href='/userguides/schema/1.0.2/schema-shell-ddl-ref'>the FijiSchema DDL Shell reference</a> for more information on the FijiSchema DDL.</p>

<h3 id='upload_data_to_hdfs'>Upload Data to HDFS</h3>

<p>Upload the data set to HDFS:</p>
<div class='userinput'>

<div class='highlight'><pre><code class='bash'>hadoop fs -mkdir express-tutorial
hadoop fs -copyFromLocal <span class='k'>${</span><span class='nv'>MUSIC_EXPRESS_HOME</span><span class='k'>}</span>/example_data/*.json express-tutorial/
</code></pre></div>

</div>

    <div class="pagination">
      <ul>
    
      
      
    
      

      
        
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
              <li class="prev">
                <a href="/tutorials/express-recommendation/0.3.0/express-overview" title="Overview">
                &larr; Previous
                </a>
              </li>
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
      

      
      
        
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
              <li class="next">
                <a href="/tutorials/express-recommendation/0.3.0/express-importing-data" title="Importing Data">
                Next &rarr;
                </a>
              </li>
            
          
        
          
        
      
      </ul>
    </div>
  </div>

  <div class="span3">
    
      
      
    
    <div class="side-toc">
    <div class="side-toc-inner">
      <h3>FijiExpress Tutorial</h3>
      <ul>
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
            
          
            
              
                <li>
                  
                    <a href="/tutorials/express-recommendation/0.3.0/express-overview">Overview</a>
                  
                </li>
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
              
            
          
            
              
                <li>
                  
                    <b>Setup</b>
                  
                </li>
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
                <li>
                  
                    <a href="/tutorials/express-recommendation/0.3.0/express-importing-data">Importing Data</a>
                  
                </li>
              
            
          
            
              
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
                <li>
                  
                    <a href="/tutorials/express-recommendation/0.3.0/express-play-count">PlayCount</a>
                  
                </li>
              
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
                <li>
                  
                    <a href="/tutorials/express-recommendation/0.3.0/express-top-next-song">Top Next Songs</a>
                  
                </li>
              
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
            
          
            
              
            
          
            
              
                <li>
                  
                    <a href="/tutorials/express-recommendation/0.3.0/express-recommendations">Recommendations Producer</a>
                  
                </li>
              
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
      </ul>
      <h3>Need Help?</h3>
      <ul>
        <li>
      <a class="btn btn-info"  href="https://groups.google.com/a/fiji.org/forum/?fromgroups#!forum/user">User Group Mailing List</a>
        </li>
        <li>
      <a class="btn btn-warning" href="https://jira.fiji.org/secure/CreateIssueDetails!init.jspa?pid=10004&issuetype=1&priority=3&components=10010&summary=Reported%20Docs%20Error:%20Setup&description=Please%20describe%20the%20issue.%0a%0aurl:%20/tutorials/express-recommendation/0.3.0/express-setup"> Report an Error in Docs </a> 
        </li>
    </ul>
    </div>
</div>

  </div>
</div>


      </div>

      <footer>
        <hr/>
        <p>&copy; Fiji Community</p>
      </footer>
    </div>

    


  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35866189-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>

